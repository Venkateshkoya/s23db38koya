extends layout

block content
  h1= title
  p Welcome to #{title}.

  - let items = results
  - let destination = `dispatch("/shoe/create")`
    button.btn(class="btn-primary ml-1 col-sm-2", onclick=destination) Create New Shoe item
  div(class="container-fluid")
    .row.d-flex.flex-row
      each shoe, index in items
        - let destination1 = `dispatch("/shoe/update?id=${shoe._id}")`
        - let destination2 = `dispatch("/shoe/detail?id=${shoe._id}")`
        - let destination3 = `dispatch("/shoe/delete?id=${shoe._id}")`
        div(class="row m-1")
          div(class="col-sm-2", onclick=`buy(${index})`) #{shoe.brand}
          div(class="col-sm-2", onclick=`buy(${index})`) #{shoe.color}
          div(class="col-sm-2", onclick=`buy(${index})`) #{shoe.size}
          button.btn(class="btn-primary ml-1 col-sm-2", onclick=destination1) Update
          button.btn(class="btn-primary ml-1 col-sm-2", onclick=destination2) Detail
          button.btn(class="btn-primary ml-1 col-sm-2", onclick=destination3) Delete

  script.
    //- function buy(itemNo){
    //-   alert(`You purchased item ${itemNo}.`);
    //- }
    function dispatch(path){
      window.location.href = path;
    }
